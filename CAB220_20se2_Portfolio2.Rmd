---
title: 'CAB220 se2 2020: Portfolio 2'
author: 'put your student number and name here'
date: "Due 11:59pm Sunday 27 September 2020"
output:
  html_document: default
---

```{r setup, include=FALSE}

# Use this chunk to set up your analysis environment

# Start with a clean environment
rm(list=ls())

# Echo code output by default
knitr::opts_chunk$set(echo = TRUE)

# See https://stackoverflow.com/questions/5595512/what-is-the-difference-between-require-and-library
library(tidyverse)
library(kableExtra)
```

# About this Assessment item

This individual Assessment item accounts for 20% of your overall grade of CAB220 and aims to assess your knowledge and skills in 

* Following clear instructions
* Summarizing data
* Statistical hypothesis testing
* Exploratory data analysis
* Linear regression
* Logistic regression
* Using `R` for data science, as described in
    * [R for Data Science](https://r4ds.had.co.nz/) by Garrett Grolemund and Hadley Wickham
    * [ggplot2: Elegant Graphics for Data Analysis](https://ggplot2-book.org/) by Hadley Wickham
    
While every attempt has been made to present this Assessment clearly and correctly we may update this Assessment item with additional points of clarification or correction.

* Any such changes will be announced on BlackBoard.

## How to submit this Assessment item

In the following instructions, replace the string `10212361` with your 7 or 8 digit student number so  the Teaching Team can identify your submission. 

1. Complete the assessment by writing `R` and `Rmarkdown` code below the "Assessment Tasks" heading to solve these tasks
2. Replace the text on line 3 `put your student number and name here` with your student number and name
3. Rename the file containing your completed submission `CAB220_20se2_Portfolio2_n10212361.Rmd`
4. Knit your submission into `.html` output,  
open that output in your web browser and  
save it in PDF format to the file `CAB220_20se2_Portfolio2_n10212361.pdf`
    * If you prefer, you can knit your submission directly to PDF but you will need $\LaTeX$ installed to do that
5. Zip both the `.Rmd` and `.pdf` you have created into a file called `CAB220_20se2_Portfolio2_n10212361.zip`
6. Submit your `.zip` file using the submission link in **Blackboard > Assessment > Portfolio 2**

**Make sure that you understand and can execute these steps well before the due date.**  

## About the data

The fictitious data set for this Assessment consists of observations of first-year University students with variables _case ID_, _Attrition_, _Degree Type_, _Achieved Credit Points_, _Attendance Type_, _Age_, _Failed Credit Points_, _International student_, _First in family in university_, _Gender_, _GPA_, _OP Score_, _Socio Economic Status_, _Teaching Period Admitted_,	and _Faculty_.

* This dataset is provided in `./data/students.csv`

## About the tasks and their marks

```{r set-marks, echo=FALSE}
tribble(
   ~Task, ~Marks,
  "Task 1: Following clear instructions",   1,
  "Task 2: Summarizing data",               5,
  "Task 3: Statistical hypothesis testing", 2,
  "Task 4: Exploratory data analysis",      2, 
  "Task 5: Linear regression",              5, 
  "Task 6: Logistic regression",            4, 
  "Task 7: Using `R` for data science",     1
) -> marks
```

There are `r nrow(marks)` Tasks worth marks as follows:
```{r show-marks, echo=FALSE}
marks %>% kable() %>%
  kable_styling(full_width = FALSE, protect_latex = TRUE, bootstrap_options = c("striped", "bordered"))
```

-----------------------------------------------------------------------------

# The Assessment tasks

## Task 1: Follow the instructions
  
1. Submit your work according to the instructions in the "How to submit this Assessment item" section

## Task 2: Summarizing data

2. Appropriately summarise each variable (except _case ID_) using tables and/or graphs

```{r}
data <- read_csv("./data/students.csv")
summary(data[c(4,6,7,11,12)])

table(data$Attrition)
table(data$Degree_Type)
table(data$Attendance_Type)
table(data$International_student)
table(data$First_in_family)
table(data$Gender)
table(data$Socio_Economic_Status)
table(data$Teaching_Period_Admitted)
table(data$Faculty)

```

## Task 3: Statistical hypothesis testing

3. Compare average GPA between male and female students using an informative graph and an appropriate statistical test.  
Interpret your findings.

```{r}
ggplot(data=data, aes(x=Gender, y=GPA)) + 
  geom_jitter(aes(color=Gender), width=0.25) + 
  theme(legend.position="none") +
  labs(title = "Spread of GPA split by Gender")

ggplot(data=data, aes(x = Gender, y = GPA)) +
  geom_boxplot() + 
  theme(legend.position="none") +
  labs(title = "Spread of GPA split by Gender")
```

> Females tend to have a slightly higher GPA than Males

## Task 4: Exploratory data analysis

4. Explore the relationship between OP Score and GPA using a graph.  
Describe the relationship.

```{r}

ggplot(data, aes(x = OP_Score, y = GPA)) +
   geom_point() +
    stat_smooth(method = "lm",
        col = "#C42126",
        se = FALSE,
        size = 1) +
  theme(legend.position="none") +
  labs(title = "Relationship between OP_Score and GPA")

```

> A higher GPA can be attributed to a higher OP_Score, but only slightly. Any student seems still as likely to fail.

## Task 5: Linear regression

5.  Develop a linear regression model of GPA using the given data.  
Describe your choice of predictors, examine your model’s assumptions, assess model fit, and interpret the final model’s regression coefficients.

## Task 6: Logistic regression

6. Develop a logistic regression model to predict Attrition.  
Describe your choice of predictors, assess model fit, and interpret the final model’s regression coefficients.

## Task 7: Using `R` for data science

7. In completing this Assessment, use the principles and approaches espoused in [R for Data Science](https://r4ds.had.co.nz/) by Garrett Grolemund and Hadley Wickham to ensure that your work can be run, reproduced and understood by the Teaching Team.

